<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Unit Converter by MichaelSnowden</title>

    <link rel="stylesheet" href="stylesheets/bootstrap.min.css">
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">-->
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <!--<script src="javascripts/bootstrap.min.js"></script>-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script>
        $(function () {
            $("#calculate").submit(function (event) {
                event.preventDefault();
                $("#result").val("Loading...");
                var expression = encodeURI($("#expression").val());
                $.get("https://michael-snowden.herokuapp.com/calculate?expression=" + expression, function (data) {
                    $("#result").val(data);
                });
            });
            $("#define").submit(function (event) {
                event.preventDefault();
                $("#defineResult").val("Loading...");
                var key = $("#defineKey").val().trim();
                var value = encodeURI($("#defineValue").val());
                $.get("https://michael-snowden.herokuapp.com/define?key=" + key + "&value=" + value, function (data) {
                    $("#defineResult").val(data);
                });
            });
        });
    </script>
</head>
<body>
<div class="wrapper">
    <header class="without-description">
        <h1>Unit converter</h1>
        <p></p>
        <p class="view"><a href="https://github.com/MichaelSnowden/unit_converter">View the Project on GitHub
            <small>MichaelSnowden/unit_converter</small>
        </a></p>
        <ul>
            <li><a href="https://github.com/MichaelSnowden/unit_converter/zipball/master">Download <strong>ZIP
                File</strong></a></li>
            <li><a href="https://github.com/MichaelSnowden/unit_converter/tarball/master">Download <strong>TAR
                Ball</strong></a></li>
            <li><a href="https://github.com/MichaelSnowden/unit_converter">View On <strong>GitHub</strong></a></li>
        </ul>
    </header>
    <section>
        <h2>Define a Symbol</h2>
        <form id="define" class="form-inline">
            <div class="form-group">
                <label for="defineKey" class="sr-only"></label>
                <input id="defineKey" name="defineKey" type="text" class="form-control"
                       placeholder="N">
            </div>
            <div class="form-group">
                <label for="defineValue" class="sr-only"></label>
                <input id="defineValue" name="defineValue" type="text" class="form-control"
                       placeholder="kg m / s^2">
            </div>
            <div class="form-group">
                <label for="defineResult" class="sr-only"></label>
                <input id="defineResult" name="defineResult" type="text" class="form-control"
                       disabled="true">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>
        <h2>Evaluate an Expression</h2>

        <form id="calculate" class="form-inline">
            <div class="form-group">
                <label for="expression" class="sr-only"></label>
                <input id="expression" name="expression" type="text" class="form-control"
                       placeholder="5 N * 10 kg m / s^2">
            </div>
            <div class="form-group">
                <label for="result" class="sr-only"></label>
                <input id="result" name="result" type="text" class="form-control"
                       disabled="true">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>


        <h2>
            <a id="command-line-installation" class="anchor" href="#command-line-installation" aria-hidden="true"><span
                    aria-hidden="true" class="octicon octicon-link"></span></a>Command-Line Installation</h2>

        <div class="highlight highlight-source-shell">
            <pre>curl -s https://raw.githubusercontent.com/MichaelSnowden/unit_converter/master/install.sh <span
                    class="pl-k">|</span> sh</pre>
        </div>

        <h2>
            <a id="command-line-usage" class="anchor" href="#command-line-usage" aria-hidden="true"><span
                    aria-hidden="true" class="octicon octicon-link"></span></a>Command-Line Usage</h2>

        <div class="highlight highlight-source-shell"><pre>$ unit_converter
uc<span class="pl-k">&gt;</span> 400 kg <span class="pl-k">*</span> 9.8 m/s^2
3920 kg m s^-2
uc<span class="pl-k">&gt;</span> 3.9 N <span class="pl-k">*</span> 10 m
39 kg m^2 s^-2
uc<span class="pl-k">&gt;</span> quit
$</pre>
        </div>

        <h2>
            <a id="maven-integration" class="anchor" href="#maven-integration" aria-hidden="true"><span
                    aria-hidden="true" class="octicon octicon-link"></span></a>Maven Integration</h2>

        <p>Add this to your <code>pom.xml</code></p>

        <div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">repositories</span>&gt;
    &lt;<span class="pl-ent">repository</span>&gt;
        &lt;<span class="pl-ent">id</span>&gt;jitpack.io&lt;/<span class="pl-ent">id</span>&gt;
        &lt;<span class="pl-ent">url</span>&gt;https://jitpack.io&lt;/<span class="pl-ent">url</span>&gt;
    &lt;/<span class="pl-ent">repository</span>&gt;
&lt;/<span class="pl-ent">repositories</span>&gt;

&lt;<span class="pl-ent">dependencies</span>&gt;
    &lt;<span class="pl-ent">dependency</span>&gt;
        &lt;<span class="pl-ent">groupId</span>&gt;com.github.MichaelSnowden&lt;/<span class="pl-ent">groupId</span>&gt;
        &lt;<span class="pl-ent">artifactId</span>&gt;unit_converter&lt;/<span class="pl-ent">artifactId</span>&gt;
        &lt;<span class="pl-ent">version</span>&gt;4e0b67e&lt;/<span class="pl-ent">version</span>&gt;
    &lt;/<span class="pl-ent">dependency</span>&gt;
&lt;/<span class="pl-ent">dependencies</span>&gt;</pre>
        </div>

        <p>Then start with the <code>Calculator</code> class.</p>

        <div class="highlight highlight-source-java"><pre><span class="pl-smi">Calculator</span> calculator <span
                class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Calculator</span>();
console<span class="pl-k">.</span>println(calculator<span class="pl-k">.</span>calculate(line)<span
                    class="pl-k">.</span>toString());</pre>
        </div>

        <p>
            <a href="https://github.com/MichaelSnowden/unit_converter/blob/master/src/main/java/com/michaelsnowden/unit_converter/REPL.java"><code>com.michaelsnowden.unit_converter.REPL</code></a>
            is a good place to look for an example usage.</p>

        <p>If you want to add units (I haven't added them all), then try constructing the <code>Calculator</code> with
            your own <code>UnitsProvider</code>.</p>

        <p>Here is an example taken directly from a webiste I have which uses this repo.</p>

        <div class="highlight highlight-source-java"><pre>get(<span class="pl-s"><span class="pl-pds">"</span>/calculate<span
                class="pl-pds">"</span></span>, (req, res) <span class="pl-k">-</span><span class="pl-k">&gt;</span> {
    <span class="pl-smi">Connection</span> connection <span class="pl-k">=</span> <span class="pl-c1">null</span>;
    <span class="pl-k">try</span> {
        connection <span class="pl-k">=</span> getConnection();
        <span class="pl-smi">Statement</span> statement <span class="pl-k">=</span> connection<span
                    class="pl-k">.</span>createStatement();
        <span class="pl-smi">SymbolLookup</span> symbolLookup <span class="pl-k">=</span> getSymbolLookup(statement);
        <span class="pl-smi">String</span> expression <span class="pl-k">=</span> req<span class="pl-k">.</span>queryParams(<span
                    class="pl-s"><span class="pl-pds">"</span>expression<span class="pl-pds">"</span></span>);
        <span class="pl-k">if</span> (expression <span class="pl-k">==</span> <span class="pl-c1">null</span>) {
            <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Missing parameter 'expression'<span
                    class="pl-pds">"</span></span>;
        }
        <span class="pl-smi">Calculator</span> calculator <span class="pl-k">=</span> <span
                    class="pl-k">new</span> <span class="pl-smi">Calculator</span>(symbolLookup);
        <span class="pl-k">return</span> calculator<span class="pl-k">.</span>calculate(expression);
    } <span class="pl-k">catch</span> (<span class="pl-smi">SQLException</span> e) {
        e<span class="pl-k">.</span>printStackTrace();
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>An error occurred: <span
                    class="pl-pds">"</span></span> <span class="pl-k">+</span> e<span class="pl-k">.</span>getMessage();
    }
});

<span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-smi">SymbolLookup</span> getSymbolLookup(<span
                    class="pl-k">final</span> <span class="pl-smi">Statement</span> statement) throws <span
                    class="pl-smi">SQLException</span>, <span class="pl-smi">IOException</span> {
    <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">AbstractSymbolLookup</span>() {
        {
            <span class="pl-smi">ResultSet</span> resultSet <span class="pl-k">=</span> statement<span
                    class="pl-k">.</span>executeQuery(<span class="pl-s"><span
                    class="pl-pds">"</span>SELECT * FROM map<span class="pl-pds">"</span></span>);
            <span class="pl-k">while</span> (resultSet<span class="pl-k">.</span>next()) {
                <span class="pl-smi">String</span> key <span class="pl-k">=</span> resultSet<span class="pl-k">.</span>getString(<span
                    class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span>);
                <span class="pl-smi">String</span> value <span class="pl-k">=</span> resultSet<span
                    class="pl-k">.</span>getString(<span class="pl-s"><span class="pl-pds">"</span>value<span
                    class="pl-pds">"</span></span>);
                <span class="pl-smi">Calculator</span> calculator <span class="pl-k">=</span> <span
                    class="pl-k">new</span> <span class="pl-smi">Calculator</span>(<span class="pl-v">this</span>);
                <span class="pl-smi">Term</span> term <span class="pl-k">=</span> calculator<span class="pl-k">.</span>calculate(value);
                <span class="pl-k">if</span> (<span class="pl-k">!</span>map<span class="pl-k">.</span>containsKey(key)) {
                    map<span class="pl-k">.</span>put(key, term);
                } <span class="pl-k">else</span> {
                    map<span class="pl-k">.</span>put(key, map<span class="pl-k">.</span>get(key)<span
                    class="pl-k">.</span>times(term));
                }
            }
        }
    };
}</pre>
        </div>

        <h2>
            <a id="rest-api-curl" class="anchor" href="#rest-api-curl" aria-hidden="true"><span aria-hidden="true"
                                                                                                class="octicon octicon-link"></span></a>REST
            API (cURL)</h2>

        <div class="highlight highlight-source-js"><pre>$ curl https<span class="pl-k">:</span><span class="pl-c">//michael-snowden.herokuapp.com/calculate?expression=2kg%20%2B%202g</span>
<span class="pl-c1">2.002</span> kg</pre>
        </div>

        <h2>
            <a id="rest-api-jquery" class="anchor" href="#rest-api-jquery" aria-hidden="true"><span aria-hidden="true"
                                                                                                    class="octicon octicon-link"></span></a>REST
            API (jQuery)</h2>

        <div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> expression <span
                class="pl-k">=</span> <span class="pl-en">encodeURI</span>(<span class="pl-s"><span
                class="pl-pds">"</span>2kg * 3 N^2<span class="pl-pds">"</span></span>);
<span class="pl-smi">$</span>.<span class="pl-en">get</span>(<span class="pl-s"><span class="pl-pds">"</span>https://michael-snowden.herokuapp.com/calculate?expression=<span
                    class="pl-pds">"</span></span> <span class="pl-k">+</span> expression, <span
                    class="pl-k">function</span> (<span class="pl-smi">data</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(data);
});</pre>
        </div>

        <h2>
            <a id="future-ideas" class="anchor" href="#future-ideas" aria-hidden="true"><span aria-hidden="true"
                                                                                              class="octicon octicon-link"></span></a>Future
            Ideas</h2>

        <p>API method for adding unit conversions</p>

        <h3>
            <a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span
                    aria-hidden="true" class="octicon octicon-link"></span></a>Authors and Contributors</h3>

        <p>Michael Snowden (<a href="https://github.com/MichaelSnowden" class="user-mention">@MichaelSnowden</a>)</p>
    </section>
</div>
<footer>
    <p>Project maintained by <a href="https://github.com/MichaelSnowden">MichaelSnowden</a></p>
    <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
</footer>
<!--[if !IE]>
<script>fixScale(document);</script><![endif]-->

</body>
</html>
